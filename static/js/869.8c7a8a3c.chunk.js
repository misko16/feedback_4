"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[869],{869:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var r=n(5861),a=n(4687),c=n.n(a),u=n(2791),o=n(9434),s=n(9439),i=n(184),l=function(t){var e=t.handleSubmit,n=t.handleInputChange,r=t.name,a=t.number;return(0,i.jsxs)("form",{onSubmit:e,children:[(0,i.jsx)("input",{type:"text",name:"name",value:r,onChange:n,placeholder:"Enter name",required:!0}),(0,i.jsx)("input",{type:"tel",name:"number",pattern:"[0-9]+",value:a,onChange:n,placeholder:"Enter phone number",required:!0}),(0,i.jsx)("button",{type:"submit",children:"Add contact"})]})},p=function(t){var e=t.onAddContact,n=(0,u.useState)(""),r=(0,s.Z)(n,2),a=r[0],c=r[1],o=(0,u.useState)(""),p=(0,s.Z)(o,2),d=p[0],f=p[1];return(0,i.jsx)(l,{name:a,number:d,handleSubmit:function(t){t.preventDefault(),a&&d?(e({name:a,number:d}),c(""),f("")):alert("Please fill in all fields.")},handleInputChange:function(t){var e=t.target,n=e.name,r=e.value;"name"===n?c(r):"number"===n&&f(r)}})},d=function(t){var e=t.value,n=t.onChange;return(0,i.jsx)("input",{className:"filterInput ",type:"text",value:e,onChange:n,placeholder:"Search contacts"})},f=function(t){var e=t.contact,n=t.onDeleteContact,r=e.id,a=e.name,c=e.number;return(0,i.jsxs)("li",{className:"contactItem ",children:[a,": ",c,(0,i.jsx)("button",{type:"button",onClick:function(){n(r)},children:"Delete"})]})};var h=function(t){var e=t.contacts,n=t.onDeleteContact;return console.log("Contacts in ContactList:",e),(0,i.jsx)("ul",{className:"contactList ",children:e.map((function(t){return(0,i.jsx)(f,{contact:t,onDeleteContact:n},t.id)}))})},m=n(6382),v=n(1243).Z.create({baseURL:"https://6539a46fe3b530c8d9e88f85.mockapi.io"}),x=(0,m.hg)("contacts/fetchAll",function(){var t=(0,r.Z)(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.get("/contacts");case 3:return r=t.sent,console.log("\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u0456 \u0434\u0430\u043d\u0456 \u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u0430:",r.data),t.abrupt("return",r.data);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue("Failed to fetch contacts"));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()),C=(0,m.hg)("contacts/addContact",function(){var t=(0,r.Z)(c().mark((function t(e,n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.post("/contacts/",e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue("Failed to add contacts"));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),b=(0,m.hg)("contacts/deleteContact",function(){var t=(0,r.Z)(c().mark((function t(e,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.delete("/contacts/".concat(e));case 3:return t.abrupt("return",e);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue("Failed to delete contacts"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e,n){return t.apply(this,arguments)}}()),g=(0,m.oM)({name:"appReducer",initialState:{contacts:{items:[],isLoading:!1,error:null},filter:""},reducers:{setFilter:function(t,e){t.filter=e.payload}},extraReducers:function(t){t.addCase(x.pending,(function(t){t.contacts.isLoading=!0,t.contacts.error=null})).addCase(x.fulfilled,(function(t,e){t.contacts.isLoading=!1,t.contacts.items=e.payload})).addCase(x.rejected,(function(t,e){t.contacts.isLoading=!1,t.contacts.error=e.error.message}))}}),j=g.actions.setFilter,w=(g.reducer,function(){var t=(0,o.v9)((function(t){return t.appReduser.contacts})),e=(0,o.v9)((function(t){return t.appReduser.filter})),n=(0,o.I0)();(0,u.useEffect)((function(){n(x())}),[]);var a=function(){var t=(0,r.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(C(e));case 2:n(x());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=(0,r.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(b(e));case 2:n(x());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=Array.isArray(t.items)?t.items.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})):[];return(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{children:"Phonebook"}),(0,i.jsx)(p,{contacts:t,onAddContact:a}),(0,i.jsx)("h2",{children:"Contacts"}),(0,i.jsx)(d,{value:e,onChange:function(t){n(j(t.target.value))}}),(0,i.jsx)(h,{contacts:l,onDeleteContact:s})]})})}}]);
//# sourceMappingURL=869.8c7a8a3c.chunk.js.map